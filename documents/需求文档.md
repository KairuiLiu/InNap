## InNap - 适用于高校的XCPC训练监控平台 需求文档



### 修订历史

| 序号 | 编写说明 | 修订人     | 修订时间   | 备注     |
| ---- | -------- | ---------- | ---------- | -------- |
| 1    | 首次编写 | @liukairui | 2022/01/07 | 首次编写 |

[TOC]

### 开发背景

随着校ACM成员增加, 队伍需要一套比赛监控, 作业提交, 题解上传, 模板共享的管理系统取代传统的FTP作业提交方式, 方便作业与人员管理. 需要实现

- 比赛监控平台
- 作业提交
- 模板共享
- 团队信息展示
- 成员信息展示
- 后台管理

### 产品架构

#### 功能架构

#### 信息架构

### 功能说明

#### 功能介绍

1. 比赛监控平台

   - 选择队伍类型筛选

     支持在前端筛选显示所有队伍, 正式队伍, 打星队伍, 女队, 学校筛选

   - 实时榜单爬虫与记录

     实时展示当前比赛榜单与选手提交情况, 提交详细信息, 排名变化(与所在院校排名变化), 展示选手当前处于成绩区域(金银铜铁区, 分别以全部参与队伍数与有效队伍数为基数)

     默认显示本校成绩, 支持双榜单显示对比筛选其他学校成绩

   - 比赛成绩统计

     显示题目提交数统计, 题目通过数统计, 队伍过题数统计, 题目通过用时统计

   - 成绩对比与分析

     默认显示校内成绩, 支持与其他高校对比平均成绩

   - 榜单导出

     以JSON格式导出

   - 比赛评论

     上传markdown格式评论, 不支持上传图片

   - 比赛题解上传

     支持用户上传, 默认不公开, 管理员可以设置公开状态

2. 作业提交平台

   - 题目展示

     显示markdown格式题目, 或题目链接, 显示题目完成人数

   - 代码提交(不运行)

     代码提交框, 测试结果页面

   - 题解上传

     上传markdown格式题解, 不支持上传图片

   - 题目评论

     上传markdown格式评论, 不支持上传图片

   - 打tag

     支持为题目添加tag

3. 模板共享

   - 上传模板库, 默认不显示, 管理员可以设置公开状态

4. 团队信息展示

   - 首页

     - 团队介绍
       - 团队人数
       - 竞赛信息

     - 新闻动态

       展示新闻列表, 点击打开新闻详情

     - 成员展示
       - 头像
       - 姓名
       - 年级专业
       - rating
       - 毕业去向

   - 新闻动态

   - 招新

   - 团队生活

5. 成员主页展示(允许管理员设置信息保护)

   - rating板
   - 成员参与比赛
   - 成员参与作业
   - 提交统计
   - 参与团队

6. 管理员后台管理

   - 成员CRUD
     - 学号绑定
     - 用户数据保护
     - OJ平台信息绑定(ID绑定, 比赛团队绑定)
   - 比赛CRUD
     - 比赛榜单链接
     - 比赛平台设置
     - 成员信息绑定
     - 设置比赛截止时间
   - 作业CRUD
     - 添加作业MD
     - 设置公开状态
     - 设置允许访问用户
     - 设置截止时间
   - 团队介绍
     - md编辑
   - 团队新闻CRUD

#### 权限与角色说明

- 游客
  - 查看首页团队介绍, 团队新闻, 团队招新
  - 查看公开的作业与评论
  - 查看比赛榜单与评论
  - 查看外网公开模板
- 学生
  - extend 游客
  - 查看待办作业
  - 提交作业
  - 提交评论
  - 提交题单
- 管理员
  - extend 游客
  - 删除评论
  - 后台管理

#### 功能模块

### 项目计划

#### 开发环境

- 前端
  - axios
  - vue
  - vuex
  - vue-router
  - eslint
  - prettier
  - husky
  - commitlint
  - less
- 后端
  - koa
  - mysql